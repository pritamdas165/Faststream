<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FastStream</title>

<style>
:root{
 --bg:#000;
 --card:#141414;
 --red:#e50914;
 --text:#fff;
 --muted:#777;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:var(--bg);color:var(--text);padding-bottom:70px}

/* Header */
header{padding:14px;font-size:20px;color:var(--red);font-weight:bold}

/* Search */
#search{width:94%;margin:10px auto;display:block;
 padding:8px;border-radius:20px;border:none;background:#222;color:#fff}

/* Hero */
#hero{height:160px;position:relative;overflow:hidden}
.hero-slide{position:absolute;inset:0;background-size:cover;
 background-position:center;opacity:0;transition:.8s}
.hero-slide.active{opacity:1}

/* Categories */
#categories{display:flex;gap:10px;overflow-x:auto;padding:10px}
#categories button{background:#222;color:#fff;border:none;
 padding:6px 14px;border-radius:20px}
#categories button.active{background:var(--red)}

/* Skeleton */
.skeleton{
 background:linear-gradient(90deg,#222,#333,#222);
 background-size:200% 100%;
 animation:sk 1.5s infinite;
 height:160px;border-radius:6px
}
@keyframes sk{0%{background-position:200%}100%{background-position:-200%}}

/* Movies */
#movies{display:grid;
 grid-template-columns:repeat(auto-fill,minmax(110px,1fr));
 gap:10px;padding:10px}
.movie{background:var(--card);border-radius:6px;overflow:hidden;
 position:relative;cursor:pointer}
.movie img{width:100%;height:160px;object-fit:cover}
.movie p{text-align:center;font-size:13px;padding:6px}

/* Play */
.play{position:absolute;inset:0;display:flex;
 align-items:center;justify-content:center;
 background:rgba(0,0,0,.5);font-size:36px;opacity:0}
.movie:hover .play{opacity:1}

/* Like */
.like{position:absolute;top:6px;right:6px;font-size:18px}
.like.active{color:var(--red)}

/* Nav */
nav{position:fixed;bottom:0;left:0;right:0;
 background:#111;display:flex;justify-content:space-around;padding:10px}
nav button{background:none;border:none;color:#aaa}
nav button.active{color:var(--red)}

/* Modal */
#modal{position:fixed;inset:0;background:rgba(0,0,0,.9);
 display:none;align-items:center;justify-content:center}
#modal div{background:#111;padding:12px;width:90%;max-width:320px}
#modal img{width:100%;border-radius:6px}

/* Admin */
#admin{position:fixed;inset:0;background:#000;
 display:none;padding:20px;overflow:auto}
#admin input{width:100%;padding:8px;margin:6px 0}
#admin button{width:100%;padding:10px;
 background:var(--red);border:none;color:#fff}
</style>
</head>

<body>

<header>FastStream</header>
<input id="search" placeholder="Search movies..." oninput="renderMovies()">

<div id="hero"></div>
<div id="categories"></div>

<div id="movies">
 <div class="skeleton"></div>
 <div class="skeleton"></div>
 <div class="skeleton"></div>
</div>

<nav>
 <button class="active">Home</button>
 <button onclick="openAdmin()">Admin</button>
</nav>

<!-- Modal -->
<div id="modal" onclick="closeModal()">
 <div onclick="event.stopPropagation()">
  <img id="mImg">
  <h3 id="mTitle"></h3>
  <button onclick="playMovie()">▶ Play</button>
 </div>
</div>

<!-- Admin -->
<div id="admin">
 <input type="password" id="pass" placeholder="Password">
 <button onclick="login()">Login</button>

 <div id="form" style="display:none">
  <input id="t" placeholder="Title">
  <input id="p" placeholder="Poster URL">
  <input id="v" placeholder="Video URL">
  <input id="c" placeholder="Category">
  <button onclick="addMovie()">Add Movie</button>
  <button onclick="admin.style.display='none'">Close</button>
 </div>
</div>

<script>
const heroImgs=[
 "https://picsum.photos/800/400?1",
 "https://picsum.photos/800/400?2"
];
let movies=JSON.parse(localStorage.getItem("movies")||"[]");
let fav=JSON.parse(localStorage.getItem("fav")||"[]");
let adminPass=localStorage.getItem("ap")||"admin123";
let current=null;

/* Hero */
heroImgs.forEach((i,n)=>{
 let d=document.createElement("div");
 d.className="hero-slide"+(n==0?" active":"");
 d.style.backgroundImage=`url(${i})`;
 hero.appendChild(d);
});

/* Categories */
["All","Action","Drama","Comedy"].forEach(x=>{
 let b=document.createElement("button");
 b.innerText=x;
 b.onclick=()=>renderMovies(x);
 categories.appendChild(b);
});

/* Render */
setTimeout(()=>renderMovies(),1200);

function renderMovies(cat="All"){
 moviesDiv.innerHTML="";
 const q=search.value.toLowerCase();
 movies.filter(x=>
 (cat=="All"||x.cat==cat)&&x.title.toLowerCase().includes(q)
 ).forEach(x=>{
  let d=document.createElement("div");
  d.className="movie";
  let liked=fav.includes(x.title);
  d.innerHTML=`
   <span class="like ${liked?"active":""}" onclick="toggleFav(event,'${x.title}')">❤</span>
   <img src="${x.poster}">
   <div class="play">▶</div>
   <p>${x.title}</p>`;
  d.onclick=()=>openModal(x);
  moviesDiv.appendChild(d);
 });
}

/* Favourite */
function toggleFav(e,t){
 e.stopPropagation();
 if(fav.includes(t))fav=fav.filter(x=>x!=t);
 else fav.push(t);
 localStorage.setItem("fav",JSON.stringify(fav));
 renderMovies();
}

/* Modal */
function openModal(x){
 current=x;
 modal.style.display="flex";
 mImg.src=x.poster;
 mTitle.innerText=x.title;
}
function closeModal(){modal.style.display="none"}
function playMovie(){window.open(current.video,"_blank")}

/* Admin */
function openAdmin(){admin.style.display="block"}
function login(){
 if(pass.value===adminPass){form.style.display="block"}
 else alert("Wrong password");
}
function addMovie(){
 movies.push({title:t.value,poster:p.value,video:v.value,cat:c.value});
 localStorage.setItem("movies",JSON.stringify(movies));
 alert("Added");renderMovies();
}

const moviesDiv=document.getElementById("movies");
</script>

</body>
</html>
