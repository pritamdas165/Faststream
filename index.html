 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MovieFlix</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* =====================
   GLOBAL STYLE
===================== */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Arial,Helvetica,sans-serif;
}
body{
  background:#0f0f0f;
  color:#fff;
}

/* =====================
   HEADER
===================== */
header{
  position:sticky;
  top:0;
  z-index:10;
  background:#111;
  padding:12px;
  display:flex;
  align-items:center;
}
.logo{
  color:#e50914;
  font-size:22px;
  font-weight:bold;
}
nav{
  margin-left:15px;
}
nav button{
  background:none;
  border:none;
  color:#fff;
  margin-right:10px;
  cursor:pointer;
}
nav button:hover{
  color:#e50914;
}

/* =====================
   HERO (SMALL)
===================== */
.hero{
  padding:20px;
  background:linear-gradient(to right,#000,#111);
}
.hero h2{
  font-size:20px;
}

/* =====================
   MOVIE GRID
===================== */
.section{
  padding:15px;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(140px,1fr));
  gap:12px;
}
.card{
  background:#181818;
  border-radius:6px;
  overflow:hidden;
  transition:.3s;
}
.card:hover{
  transform:scale(1.05);
}
.card img{
  width:100%;
  height:200px;
  object-fit:cover;
}
.info{
  padding:8px;
}
.info button{
  width:100%;
  margin-top:5px;
  padding:6px;
  border:none;
  border-radius:4px;
  cursor:pointer;
}
.watch{background:#e50914;color:#fff;}
.download{background:#333;color:#fff;}

/* =====================
   ADMIN PANEL
===================== */
#adminPanel{
  display:none;
  position:fixed;
  inset:0;
  background:#000;
  padding:20px;
  overflow:auto;
  z-index:999;
}
#adminPanel input, #adminPanel select, #adminPanel button{
  width:100%;
  margin:6px 0;
  padding:8px;
}
.closeBtn{
  background:#e50914;
  border:none;
  color:#fff;
  padding:8px;
  margin-bottom:10px;
}

/* =====================
   AD OVERLAY
===================== */
#adBox{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  z-index:999;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
#adBox p{
  margin-bottom:10px;
  color:#e50914;
}
</style>
</head>

<body>

<header>
  <div class="logo">MovieFlix</div>
  <nav>
    <button onclick="filterCat('all')">All</button>
    <button onclick="filterCat('bollywood')">Bollywood</button>
    <button onclick="filterCat('hollywood')">Hollywood</button>
    <button onclick="filterCat('south')">South</button>
  </nav>
</header>

<div class="hero">
  <h2>Watch & Download Movies</h2>
</div>

<div class="section">
  <div class="grid" id="movieGrid"></div>
</div>

<!-- ADMIN BUTTON -->
<div style="text-align:center;padding:10px;">
  <button onclick="openAdmin()">Admin</button>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel">
  <button class="closeBtn" onclick="closeAdmin()">Close</button>
  <h3>Admin Login</h3>
  <input type="password" id="adminPass" placeholder="Enter password">
  <button onclick="loginAdmin()">Login</button>

  <div id="adminContent" style="display:none;">
    <h3>Add Movie</h3>
    <input id="mTitle" placeholder="Movie Title">
    <input id="mPoster" placeholder="Poster URL">
    <input id="mWatch" placeholder="Watch Link">
    <input id="mDownload" placeholder="Download Link">
    <select id="mCategory">
      <option value="bollywood">Bollywood</option>
      <option value="hollywood">Hollywood</option>
      <option value="south">South</option>
    </select>
    <button onclick="addMovie()">Add Movie</button>
  </div>
</div>

<!-- AD BOX -->
<div id="adBox">
  <p>Advertisement...</p>
  <p id="adTimer">Wait 5 sec</p>
</div>

<script>
/* =====================
   CONFIG
===================== */
const ADMIN_PASSWORD = "admin123";
const AD_TIME = 5;

/* =====================
   MOVIE DATA (LOCAL)
===================== */
let movies = JSON.parse(localStorage.getItem("movies")) || [
  {
    title:"Dhoom 3",
    poster:"https://upload.wikimedia.org/wikipedia/en/4/4f/Dhoom_3_Film_Poster.jpg",
    watch:"#",
    download:"#",
    category:"bollywood"
  }
];

/* =====================
   RENDER MOVIES
===================== */
function render(list){
  let box=document.getElementById("movieGrid");
  box.innerHTML="";
  list.forEach(m=>{
    box.innerHTML+=`
    <div class="card">
      <img src="${m.poster}">
      <div class="info">
        <b>${m.title}</b>
        <button class="watch" onclick="runAd('${m.watch}')">Watch</button>
        <button class="download" onclick="runAd('${m.download}')">Download</button>
      </div>
    </div>`;
  });
}
render(movies);

/* =====================
   CATEGORY FILTER
===================== */
function filterCat(cat){
  if(cat==="all") render(movies);
  else render(movies.filter(m=>m.category===cat));
}

/* =====================
   ADMIN SYSTEM
===================== */
function openAdmin(){
  document.getElementById("adminPanel").style.display="block";
}
function closeAdmin(){
  document.getElementById("adminPanel").style.display="none";
}
function loginAdmin(){
  if(document.getElementById("adminPass").value===ADMIN_PASSWORD){
    document.getElementById("adminContent").style.display="block";
    alert("Login success");
  }else alert("Wrong password");
}
function addMovie(){
  let m={
    title:mTitle.value,
    poster:mPoster.value,
    watch:mWatch.value,
    download:mDownload.value,
    category:mCategory.value
  };
  movies.push(m);
  localStorage.setItem("movies",JSON.stringify(movies));
  render(movies);
  alert("Movie Added");
}

/* =====================
   AD ONLY ONCE
===================== */
let adShown=sessionStorage.getItem("adShown");

function runAd(url){
  if(adShown){
    location.href=url;
    return;
  }
  sessionStorage.setItem("adShown","yes");
  document.getElementById("adBox").style.display="flex";
  let t=AD_TIME;
  let timer=setInterval(()=>{
    document.getElementById("adTimer").innerText="Wait "+t+" sec";
    t--;
    if(t<0){
      clearInterval(timer);
      document.getElementById("adBox").style.display="none";
      location.href=url;
    }
  },1000);
}
</script>

</body>
</html>
