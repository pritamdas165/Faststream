<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>FastStream</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
body{background:#0f172a;color:#fff}

/* ===== NAVBAR ===== */
.navbar{
 position:fixed;top:0;left:0;width:100%;
 padding:12px 18px;display:flex;gap:12px;align-items:center;
 background:rgba(15,23,42,.8);backdrop-filter:blur(10px);
 z-index:100
}
.logo{
 font-size:20px;font-weight:700;
 background:linear-gradient(90deg,#22c55e,#3b82f6);
 -webkit-background-clip:text;-webkit-text-fill-color:transparent
}
.search{
 flex:1;max-width:420px
}
.search input{
 width:100%;padding:10px 14px;border-radius:999px;border:none;
 background:#111827;color:#fff;outline:none
}
.nav-links button{
 background:none;border:none;color:#cbd5e1;margin-left:10px;cursor:pointer
}
.nav-links button:hover{color:#22c55e}

/* ===== HERO ===== */
.hero{
 height:70vh;margin-top:64px;position:relative;overflow:hidden;
 display:flex;align-items:flex-end;padding:32px
}
.hero-bg{position:absolute;inset:0;background-size:cover;background-position:center}
.hero-overlay{
 position:absolute;inset:0;
 background:linear-gradient(to top,rgba(0,0,0,.85),transparent)
}
.hero-content{position:relative;z-index:2;max-width:520px}
.hero h1{font-size:36px;margin-bottom:10px}
.hero p{font-size:14px;color:#e5e7eb;margin-bottom:16px}
.hero-actions button{
 padding:10px 16px;border:none;border-radius:8px;
 margin-right:8px;font-weight:700;cursor:pointer
}
.play{background:#22c55e;color:#022c22}
.info{background:#1f2937;color:#e5e7eb}

/* ===== SECTION ===== */
.section{padding:22px}
.section h2{margin-bottom:12px;color:#e5e7eb}

/* ===== GRID ===== */
.grid{
 display:grid;grid-template-columns:repeat(6,1fr);gap:14px
}
.card{
 background:#111827;border-radius:12px;overflow:hidden;position:relative
}
.card img{width:100%;display:block}
.badge{
 position:absolute;top:8px;left:8px;
 background:#22c55e;color:#022c22;font-size:11px;
 padding:4px 8px;border-radius:999px;font-weight:700
}
.card-body{padding:10px}
.title{font-size:13px;font-weight:700;margin-bottom:8px;line-height:1.3}
.actions{display:flex;gap:8px}
.actions button{
 flex:1;padding:8px;border:none;border-radius:8px;
 font-weight:700;cursor:pointer
}
.watch{background:#22c55e;color:#022c22}
.down{background:#3b82f6;color:#02152a}

/* ===== RESPONSIVE ===== */
@media(max-width:1200px){.grid{grid-template-columns:repeat(5,1fr)}}
@media(max-width:992px){.grid{grid-template-columns:repeat(4,1fr)}}
@media(max-width:768px){
 .hero{height:55vh}
 .grid{grid-template-columns:repeat(2,1fr)}
}
</style>
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
 <div class="logo">FASTSTREAM</div>
 <div class="search">
  <input id="search" placeholder="Search movies..." />
 </div>
 <div class="nav-links">
  <button onclick="loadTrending()">Trending</button>
  <button onclick="loadTopRated()">Top</button>
  <button onclick="loadUpcoming()">Upcoming</button>
 </div>
</div>

<!-- HERO -->
<div class="hero">
 <div class="hero-bg" id="heroBg"></div>
 <div class="hero-overlay"></div>
 <div class="hero-content">
  <h1 id="heroTitle"></h1>
  <p id="heroDesc"></p>
  <div class="hero-actions">
   <button class="play">▶ Watch</button>
   <button class="info">ⓘ Info</button>
  </div>
 </div>
</div>

<!-- MOVIES -->
<div class="section">
 <h2 id="secTitle">Trending</h2>
 <div class="grid" id="grid"></div>
</div>

<script>
let allMovies=[];

/* HERO */
async function hero(){
 const r=await fetch("/api/trending");
 const d=await r.json();
 const m=d.results[0];
 document.getElementById("heroBg").style.backgroundImage=
 `url(https://image.tmdb.org/t/p/original${m.backdrop_path})`;
 heroTitle.innerText=m.title;
 heroDesc.innerText=m.overview.slice(0,140)+"...";
}

/* LOADERS */
async function loadTrending(){
 secTitle.innerText="Trending";
 const r=await fetch("/api/trending");
 render((await r.json()).results);
}
async function loadTopRated(){
 secTitle.innerText="Top Rated";
 const r=await fetch("/api/toprated");
 render((await r.json()).results);
}
async function loadUpcoming(){
 secTitle.innerText="Upcoming";
 const r=await fetch("/api/upcoming");
 render((await r.json()).results);
}

/* RENDER */
function render(movies){
 allMovies=movies;
 draw(movies);
}
function draw(movies){
 grid.innerHTML="";
 movies.forEach(m=>{
  grid.innerHTML+=`
   <div class="card">
    <span class="badge">HD</span>
    <img src="https://image.tmdb.org/t/p/w500${m.poster_path}">
    <div class="card-body">
     <div class="title">${m.title}</div>
     <div class="actions">
      <button class="watch">Watch</button>
      <button class="down">Download</button>
     </div>
    </div>
   </div>`;
 });
}

/* SEARCH */
search.addEventListener("input",e=>{
 const q=e.target.value.toLowerCase();
 draw(allMovies.filter(m=>m.title.toLowerCase().includes(q)));
});

hero();
loadTrending();
</script>

</body>
</html>
