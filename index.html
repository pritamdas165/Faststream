<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nova Stream</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0b0b0f;
  color:white;
  overflow-x:hidden;
}

/* HEADER */
header{
  padding:15px;
  font-size:22px;
  font-weight:bold;
  position:absolute;
  width:100%;
  z-index:10;
  background:linear-gradient(to bottom,#000,transparent);
}

/* HERO */
.hero{
  position:relative;
  height:65vh;
  overflow:hidden;
}

.hero-slider{
  display:flex;
  height:100%;
  transition:transform 0.6s ease;
}

.hero-slide{
  min-width:100%;
  position:relative;
}

.hero-slide img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.hero-slide::after{
  content:"";
  position:absolute;
  bottom:0;
  width:100%;
  height:60%;
  background:linear-gradient(to top,rgba(0,0,0,0.9),transparent);
}

.hero-content{
  position:absolute;
  bottom:40px;
  left:20px;
}

.hero-content h1{
  margin:0;
  font-size:26px;
}

.hero-content button{
  margin-top:10px;
  padding:8px 15px;
  border:none;
  border-radius:20px;
  background:red;
  color:white;
  cursor:pointer;
}

.rating-badge{
  position:absolute;
  top:20px;
  right:20px;
  backdrop-filter:blur(10px);
  background:rgba(255,255,255,0.1);
  padding:6px 12px;
  border-radius:20px;
  font-size:13px;
}

/* CATEGORY */
.tabs{
  display:flex;
  overflow-x:auto;
  gap:10px;
  padding:15px;
}

.tabs button{
  backdrop-filter:blur(10px);
  background:rgba(255,255,255,0.05);
  border:none;
  padding:8px 15px;
  border-radius:20px;
  color:white;
  cursor:pointer;
}

.tabs button.active{
  background:red;
}

/* SECTION */
.section-title{
  padding:0 15px;
  font-size:18px;
  margin-top:10px;
}

.trending-row{
  display:flex;
  overflow-x:auto;
  gap:12px;
  padding:15px;
}

.trend-card{
  min-width:140px;
  border-radius:15px;
  overflow:hidden;
  background:rgba(255,255,255,0.05);
  cursor:pointer;
  transition:0.3s;
}

.trend-card:hover{
  transform:scale(1.05);
}

.trend-card img{
  width:100%;
  height:200px;
  object-fit:cover;
}

/* GRID */
.movie-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
  padding:12px;
  padding-bottom:80px;
}

.movie{
  position:relative;
  border-radius:15px;
  overflow:hidden;
  cursor:pointer;
}

.movie img{
  width:100%;
  height:220px;
  object-fit:cover;
}

.overlay{
  position:absolute;
  bottom:0;
  width:100%;
  background:linear-gradient(to top,rgba(0,0,0,0.9),transparent);
  padding:8px;
}

.overlay h4{
  margin:0;
  font-size:13px;
}

/* DETAILS PAGE */
#detailsPage{
  display:none;
  padding:20px;
}

.back-btn{
  margin-bottom:15px;
  padding:8px 15px;
  border:none;
  border-radius:20px;
  background:red;
  color:white;
  cursor:pointer;
}

.details-poster{
  width:100%;
  max-height:400px;
  object-fit:cover;
  border-radius:15px;
  margin-bottom:15px;
}

.details-info{
  backdrop-filter:blur(10px);
  background:rgba(255,255,255,0.05);
  padding:15px;
  border-radius:15px;
}

/* Screenshot Gallery */
.screenshot-row{
  display:flex;
  overflow-x:auto;
  gap:10px;
  margin-top:15px;
}

.screenshot-row img{
  height:150px;
  border-radius:10px;
  object-fit:cover;
}
</style>
</head>

<body>

<div id="mainPage">

<header>Nova Stream</header>

<div class="hero">
  <div class="hero-slider" id="heroSlider"></div>
  <div class="hero-content">
    <h1 id="heroTitle"></h1>
    <button onclick="playTrailer(currentHeroTitle)">‚ñ∂ Watch Trailer</button>
  </div>
  <div class="rating-badge" id="ratingBadge"></div>
</div>

<div class="tabs">
  <button class="active" onclick="loadCategory('avengers',this)">Home</button>
  <button onclick="loadCategory('action',this)">Action</button>
  <button onclick="loadCategory('horror',this)">Horror</button>
  <button onclick="loadCategory('comedy',this)">Comedy</button>
</div>

<h2 class="section-title">üî• Trending Now</h2>
<div class="trending-row" id="trendingRow"></div>

<h2 class="section-title">üÜï Latest Releases</h2>
<div class="trending-row" id="latestRow"></div>

<div id="movieSection" class="movie-grid"></div>

</div>

<!-- DETAILS PAGE -->
<div id="detailsPage">
  <button class="back-btn" onclick="goBack()">‚¨Ö Back</button>
  <img id="detailPoster" class="details-poster">
  <div class="details-info">
    <h2 id="detailTitle"></h2>
    <p id="detailMeta"></p>
    <p id="detailPlot"></p>
    <button onclick="playTrailer(currentHeroTitle)">‚ñ∂ Watch Trailer</button>

    <h3>üì∏ Screenshots</h3>
    <div class="screenshot-row" id="screenshotRow"></div>
  </div>
</div>

<script>
const API_KEY="66cb706";
let heroMovies=[];
let heroIndex=0;
let sliderInterval;
let currentHeroTitle="";

async function loadCategory(cat,btn){
  document.querySelectorAll(".tabs button").forEach(b=>b.classList.remove("active"));
  if(btn) btn.classList.add("active");

  const res=await fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&s=${cat}`);
  const data=await res.json();

  if(data.Response==="True"){
    heroMovies=data.Search.slice(0,5);
    createSlider();
    startSlider();
    displayTrending(data.Search.slice(0,10));
    displayLatest();
    displayMovies(data.Search);
  }
}

async function createSlider(){
  const slider=document.getElementById("heroSlider");
  slider.innerHTML="";
  for(let movie of heroMovies){
    const res=await fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&i=${movie.imdbID}`);
    const full=await res.json();
    movie.imdbRating=full.imdbRating;
    const slide=document.createElement("div");
    slide.className="hero-slide";
    slide.innerHTML=`<img src="${full.Poster}">`;
    slider.appendChild(slide);
  }
  updateHero();
}

function updateHero(){
  document.getElementById("heroSlider").style.transform=
    `translateX(-${heroIndex*100}%)`;
  document.getElementById("heroTitle").innerText=
    heroMovies[heroIndex].Title;
  document.getElementById("ratingBadge").innerText=
    "‚≠ê "+heroMovies[heroIndex].imdbRating;
  currentHeroTitle=heroMovies[heroIndex].Title;
}

function startSlider(){
  clearInterval(sliderInterval);
  sliderInterval=setInterval(()=>{
    heroIndex=(heroIndex+1)%heroMovies.length;
    updateHero();
  },4000);
}

function displayTrending(movies){
  const row=document.getElementById("trendingRow");
  row.innerHTML="";
  movies.forEach(movie=>{
    if(movie.Poster==="N/A") return;
    const card=document.createElement("div");
    card.className="trend-card";
    card.innerHTML=`<img src="${movie.Poster}">`;
    card.onclick=()=>openDetails(movie.imdbID);
    row.appendChild(card);
  });
}

async function displayLatest(){
  const year=new Date().getFullYear();
  const res=await fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&s=movie&y=${year}`);
  const data=await res.json();
  const row=document.getElementById("latestRow");
  row.innerHTML="";
  if(data.Response==="True"){
    data.Search.slice(0,10).forEach(movie=>{
      if(movie.Poster==="N/A") return;
      const card=document.createElement("div");
      card.className="trend-card";
      card.innerHTML=`<img src="${movie.Poster}">`;
      card.onclick=()=>openDetails(movie.imdbID);
      row.appendChild(card);
    });
  }
}

function displayMovies(movies){
  const section=document.getElementById("movieSection");
  section.innerHTML="";
  movies.forEach(movie=>{
    if(movie.Poster==="N/A") return;
    const div=document.createElement("div");
    div.className="movie";
    div.innerHTML=`
      <img src="${movie.Poster}">
      <div class="overlay">
        <h4>${movie.Title}</h4>
      </div>
    `;
    div.onclick=()=>openDetails(movie.imdbID);
    section.appendChild(div);
  });
}

async function openDetails(id){
  const res=await fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&i=${id}`);
  const data=await res.json();

  document.getElementById("mainPage").style.display="none";
  document.getElementById("detailsPage").style.display="block";

  document.getElementById("detailPoster").src=data.Poster;
  document.getElementById("detailTitle").innerText=data.Title;
  document.getElementById("detailMeta").innerText=
    "‚≠ê "+data.imdbRating+" | "+data.Year+" | "+data.Genre;
  document.getElementById("detailPlot").innerText=data.Plot;

  currentHeroTitle=data.Title;

  loadScreenshots(data.Title);
}

function loadScreenshots(title){
  const row=document.getElementById("screenshotRow");
  row.innerHTML="";
  for(let i=1;i<=5;i++){
    const img=document.createElement("img");
    img.src=`https://source.unsplash.com/400x300/?movie,${title},scene&sig=${i}`;
    row.appendChild(img);
  }
}

function goBack(){
  document.getElementById("detailsPage").style.display="none";
  document.getElementById("mainPage").style.display="block";
}

function playTrailer(title){
  const query=encodeURIComponent(title+" official trailer");
  window.open("https://www.youtube.com/results?search_query="+query,"_blank");
}

loadCategory("avengers");
</script>

</body>
</html>
