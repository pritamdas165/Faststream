<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FastStream</title>

<style>
:root{
  --bg:#000;
  --card:#141414;
  --red:#e50914;
  --text:#fff;
  --muted:#999;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
body{background:var(--bg);color:var(--text);padding-bottom:70px}

/* Header */
header{
  padding:12px 16px;
  font-size:20px;
  font-weight:bold;
  color:var(--red);
}

/* Search */
#searchBox{
  width:94%;
  margin:10px auto;
  display:block;
  padding:8px 12px;
  border-radius:20px;
  border:none;
  background:#222;
  color:#fff;
}

/* Hero */
#hero{position:relative;height:160px;overflow:hidden}
.hero-slide{
  position:absolute;inset:0;
  background-size:cover;
  background-position:center;
  opacity:0;transition:.8s
}
.hero-slide.active{opacity:1}
.hero-dots{
  position:absolute;bottom:8px;width:100%;text-align:center
}
.hero-dots span{
  display:inline-block;width:8px;height:8px;
  border-radius:50%;background:#555;margin:0 3px
}
.hero-dots .active{background:var(--red)}

/* Categories */
#categories{
  display:flex;gap:10px;overflow-x:auto;padding:10px
}
#categories button{
  background:#222;color:#fff;border:none;
  padding:6px 14px;border-radius:20px
}
#categories button.active{background:var(--red)}

/* Movies */
#movies{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(110px,1fr));
  gap:10px;padding:10px
}
.movie{
  background:var(--card);
  border-radius:6px;overflow:hidden;
  position:relative;cursor:pointer
}
.movie img{width:100%;height:160px;object-fit:cover}
.movie p{font-size:13px;padding:6px;text-align:center}
.play{
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  font-size:40px;color:#fff;
  background:rgba(0,0,0,.5);
  opacity:0;transition:.3s
}
.movie:hover .play{opacity:1}

/* Bottom nav */
nav{
  position:fixed;bottom:0;left:0;right:0;
  background:#111;display:flex;
  justify-content:space-around;padding:10px
}
nav button{
  background:none;border:none;
  color:#aaa;font-size:14px
}
nav button.active{color:var(--red)}

/* Modal */
#modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.9);
  display:none;align-items:center;
  justify-content:center;z-index:999
}
#modalContent{
  background:#111;padding:15px;
  width:90%;max-width:300px
}
#modalContent img{width:100%;border-radius:6px}
#modalContent button{
  width:100%;margin-top:10px;
  padding:8px;background:var(--red);
  border:none;color:#fff
}

/* Admin */
#admin{
  position:fixed;inset:0;
  background:#000;display:none;
  padding:20px;overflow:auto
}
#admin input{width:100%;padding:8px;margin:6px 0}
#admin button{
  width:100%;padding:10px;
  background:var(--red);
  border:none;color:#fff;margin-top:6px
}
</style>
</head>

<body>

<header>FastStream</header>

<input id="searchBox" placeholder="Search movies..." oninput="renderMovies()">

<div id="hero">
  <div class="hero-dots" id="heroDots"></div>
</div>

<div id="categories"></div>
<div id="movies"></div>

<nav>
  <button class="active" onclick="setNav(this)">Home</button>
  <button onclick="setNav(this);openAdmin()">Admin</button>
</nav>

<!-- Modal -->
<div id="modal" onclick="closeModal()">
  <div id="modalContent" onclick="event.stopPropagation()">
    <img id="modalImg">
    <h3 id="modalTitle"></h3>
    <button onclick="alert('Demo Play')">▶ Play</button>
  </div>
</div>

<!-- Admin -->
<div id="admin">
  <input type="password" id="adminPass" placeholder="Admin password">
  <button onclick="login()">Login</button>

  <div id="adminForm" style="display:none">
    <input id="mTitle" placeholder="Movie title">
    <input id="mPoster" placeholder="Poster URL">
    <input id="mCat" placeholder="Category">
    <button onclick="addMovie()">Add Movie</button>

    <input id="newPass" placeholder="New admin password">
    <button onclick="changePass()">Change Password</button>
    <button onclick="closeAdmin()">Close</button>
  </div>
</div>

<script>
const heroImages=[
 "https://picsum.photos/800/400?1",
 "https://picsum.photos/800/400?2"
];
let heroIndex=0;

let movies=JSON.parse(localStorage.getItem("movies")||"[]");
let adminPassword=localStorage.getItem("adminPass")||"admin123";

/* Init */
initHero();renderCategories();renderMovies();

/* Hero */
function initHero(){
 heroImages.forEach((img,i)=>{
  const d=document.createElement("div");
  d.className="hero-slide"+(i==0?" active":"");
  d.style.backgroundImage=`url(${img})`;
  hero.appendChild(d);

  const s=document.createElement("span");
  if(i==0)s.classList.add("active");
  heroDots.appendChild(s);
 });
 setInterval(()=>{
  const s=document.querySelectorAll(".hero-slide");
  const d=document.querySelectorAll(".hero-dots span");
  s[heroIndex].classList.remove("active");
  d[heroIndex].classList.remove("active");
  heroIndex=(heroIndex+1)%s.length;
  s[heroIndex].classList.add("active");
  d[heroIndex].classList.add("active");
 },3000);
}

/* Categories */
function renderCategories(){
 ["All","Action","Drama","Comedy","Romance"].forEach(c=>{
  const b=document.createElement("button");
  b.innerText=c;b.onclick=()=>renderMovies(c);
  categories.appendChild(b);
 });
}

/* Movies */
function renderMovies(cat="All"){
 const q=searchBox.value.toLowerCase();
 moviesDiv.innerHTML="";
 movies
 .filter(x=>(cat=="All"||x.cat==cat)&&x.title.toLowerCase().includes(q))
 .forEach(x=>{
  const d=document.createElement("div");
  d.className="movie";
  d.innerHTML=`<img src="${x.poster}">
  <div class="play">▶</div><p>${x.title}</p>`;
  d.onclick=()=>openModal(x);
  moviesDiv.appendChild(d);
 });
}

/* Modal */
function openModal(x){
 modal.style.display="flex";
 modalImg.src=x.poster;
 modalTitle.innerText=x.title;
}
function closeModal(){modal.style.display="none"}

/* Admin */
function openAdmin(){admin.style.display="block"}
function closeAdmin(){admin.style.display="none"}
function login(){
 if(adminPass.value===adminPassword){
  adminForm.style.display="block";
 }else alert("Wrong password");
}
function addMovie(){
 movies.push({title:mTitle.value,poster:mPoster.value,cat:mCat.value});
 localStorage.setItem("movies",JSON.stringify(movies));
 renderMovies();alert("Movie added");
}
function changePass(){
 adminPassword=newPass.value;
 localStorage.setItem("adminPass",adminPassword);
 alert("Password changed");
}

/* Nav */
function setNav(btn){
 document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
 btn.classList.add("active");
}

const moviesDiv=document.getElementById("movies");
</script>

</body>
</html>
