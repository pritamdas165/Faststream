<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NovaStream Live</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Segoe UI;background:#0b0b0f;color:#fff;overflow-x:hidden}
.header{position:fixed;top:0;width:100%;padding:15px 20px;background:#111;z-index:1000}
.hero{height:70vh;margin-top:60px;position:relative}
.hero img{width:100%;height:100%;object-fit:cover}
.hero-overlay{position:absolute;bottom:20px;left:20px;background:rgba(0,0,0,.7);padding:15px;border-radius:10px}
.section{padding:25px 20px}
.row{display:flex;gap:15px;overflow-x:auto}
.card{min-width:150px;border-radius:12px;overflow:hidden;cursor:pointer;transition:.3s}
.card img{width:100%;height:220px;object-fit:cover}
.card:hover{transform:scale(1.07)}
#detailsPage{display:none;padding:90px 20px 30px}
.back-btn{padding:8px 15px;background:#e50914;border:none;border-radius:20px;color:#fff;cursor:pointer;margin-bottom:15px}
iframe{width:100%;aspect-ratio:16/9;border-radius:12px;margin-top:20px}
</style>
</head>
<body>

<div class="header">
<h2>NovaStream</h2>
</div>

<div id="homePage">
<div class="hero" id="hero"></div>
<div class="section">
<h3>üî• Trending</h3>
<div class="row" id="trendingRow"></div>
</div>
</div>

<div id="detailsPage"></div>

<script>
const KEY="4fb15e4c918b39bd7a94e3e1f33772cb";
const API="https://api.themoviedb.org/3";
const IMG="https://image.tmdb.org/t/p";

async function fetchData(url){
const res=await fetch(url);
return res.json();
}

async function loadHero(){
const data=await fetchData(`${API}/trending/movie/week?api_key=${KEY}`);
const movie=data.results[0];
document.getElementById("hero").innerHTML=`
<img src="${IMG}/original${movie.backdrop_path}">
<div class="hero-overlay">
<h1>${movie.title}</h1>
<p>‚≠ê ${movie.vote_average}</p>
</div>`;
}

async function loadTrending(){
const data=await fetchData(`${API}/trending/movie/week?api_key=${KEY}`);
const row=document.getElementById("trendingRow");
data.results.forEach(m=>{
if(!m.poster_path) return;
const card=document.createElement("div");
card.className="card";
card.onclick=()=>openDetails(m.id);
card.innerHTML=`<img src="${IMG}/w500${m.poster_path}">`;
row.appendChild(card);
});
}

async function openDetails(id){
document.getElementById("homePage").style.display="none";
const page=document.getElementById("detailsPage");
page.style.display="block";
const data=await fetchData(`${API}/movie/${id}?api_key=${KEY}&append_to_response=videos`);
let trailer="";
if(data.videos.results.length){
const vid=data.videos.results.find(v=>v.type==="Trailer");
if(vid){
trailer=`<iframe src="https://www.youtube.com/embed/${vid.key}" allowfullscreen></iframe>`;
}
}
page.innerHTML=`
<button class="back-btn" onclick="goBack()">‚Üê Back</button>
<h1>${data.title}</h1>
<p>‚≠ê ${data.vote_average}</p>
<p style="margin-top:10px">${data.overview}</p>
${trailer}`;
}

function goBack(){
document.getElementById("detailsPage").style.display="none";
document.getElementById("homePage").style.display="block";
}

loadHero();
loadTrending();
</script>

</body>
</html>
