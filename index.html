 <!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MovieFlix</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;background:#000;color:#fff;font-family:Arial}
h2{margin:10px}
.grid{display:flex;gap:10px;overflow-x:auto;padding:10px}
.card{min-width:140px}
.card img{width:100%;border-radius:6px}
</style>
</head>
<body>

<h2>Trending</h2>
<div class="grid" id="trending"></div>

<h2>Popular</h2>
<div class="grid" id="popular"></div>

<script>
const IMG = "https://image.tmdb.org/t/p/w500";

async function load(type, el){
  try{
    const r = await fetch(`/api/tmdb?type=${type}`);
    const d = await r.json();
    el.innerHTML = "";
    d.results.forEach(m=>{
      if(!m.poster_path) return;
      el.innerHTML += `
        <div class="card">
          <img src="${IMG + m.poster_path}">
        </div>`;
    });
  }catch{
    el.innerHTML = "Failed to load movies";
  }
}

load("trending/movie/day", document.getElementById("trending"));
load("movie/popular", document.getElementById("popular"));
</script>

</body>
</html>
